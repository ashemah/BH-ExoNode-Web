{% extends "base.html" %}

{% block page_id %}search{% endblock %}

{% block js %}
    {{ block.super }}

    var resultsBlock = $('#search-results');

    $('#btn-search').on("click", function(e) {

        var query = $('#search-query').val();

        resultsBlock.html("<div class=\"spinner\"><div class=\"bounce1\"></div><div class=\"bounce2\"></div><div class=\"bounce3\"></div></div> Totes searching for that thing, yo...");

        resultsBlock.load('/search/results/?target=search-results&q=' + encodeURIComponent(query));
    });

    resultsBlock.load('/search/results/?target=search-results');

{% endblock %}

{% block main %}

    <div class="row">
        <div class="col-lg-3">
            <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-primary">
                    <input type="radio" name="options" id="cat-movies" value="1"> Movies
                </label>
                <label class="btn btn-primary">
                    <input type="radio" name="options" id="cat-tvshows" value="2"> TV Shows
                </label>
            </div>
        </div>
        <div class="col-lg-9">
            <div class="input-group">
                <input id="search-query" type="text" class="form-control" placeholder="Type the name of a movie or tv show or whatever I'm not your mum geez..." value="{{ search_query }}">
      <span class="input-group-btn">
        <button id="btn-search" class="btn btn-default" type="button">Shizzle!</button>
        </span>
            </div>
        </div>
    </div>
    <br/>
    <br/>
    <div class="row">

        <div id="search-results" class="col-lg-12">
        </div>

    </div>

{% endblock %}